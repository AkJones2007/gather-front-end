<!DOCTYPE html>
<html>

  <head>
    <title>Gather</title>

    <!-- JS Libraries -->
    <script src="assets/jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/handlebars.js" type="text/javascript" charset="utf-8"></script>

    <!-- Scripts -->
    <script src="scripts/utility.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/request.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/actions.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/user.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/gathering.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/friend.js" type="text/javascript" charset="utf-8"></script>
    <script src="scripts/render.js" type="text/javascript" charset="utf-8"></script>

    <!-- COMPONENTS -->

      <!-- User Profile -->
      <script id="user-profile-component" type="text/x-handlebars-template">
        <h2>{{fname}} {{lname}}</h2>
        <h3>{{zip_code}}</h3>
        <button class="back-button">Back</button>
      </script>

      <!-- List Gatherings -->
      <script id="gatherings-list-component" type="text/x-handlebars-template">
        <h2>My Gatherings</h2>
        {{#each gatherings}}
          <li data-id={{id}}>
            <a href="#" class="view-gathering-button" data-id={{id}}>
              <h3>{{title}} {{date}} {{location}}</h3>
            </a>
            <button class="edit-gathering-button" data-id={{id}}>Edit</button>
            <button class="remove-gathering-button" data-id={{id}}>Remove</button>
          </li>
        {{/each}}
        <button class="create-gathering-button">New Gathering</button>
      </script>

      <!-- Create Gathering -->
      <script id="create-gathering-component" type="text/x-handlebars-template">
        <h1>Create New Gathering</h1>
        <form id="gathering">
          <input name="title" type="text" placeholder="Title">
          <input name="date" type="text" placeholder="Date (YYY-MM-DD)">
          <input name="location" type="text" placeholder="Location">
          <textarea name="description" placeholder="Description"></textarea>
          <input name="submit" type="submit" value="Submit">
          <button class="gatherings-back-button">Cancel</button>
        </form>
      </script>

      <!-- Show Gathering -->
      <script id="single-gathering-component" type="text/x-handlebars-template">
        <h1>{{title}}</h1>
        <h2>{{date}}</h2>
        <h2>{{location}}</h2>
        <p>{{description}}<p>
        <a href="#" class="gatherings-back-button">Back</a>
        <button class="edit-gathering-button" data-id={{id}}>Edit</button>
        <button class="remove-gathering-button" data-id={{id}}>Remove</button>
      </script>

      <!-- Edit Gathering -->
      <script id="edit-gathering-component" type="text/x-handlebars-template">
        <h1>Edit Gathering</h1>
        <form id="gathering-update">
          <input name="title" type="text" value="{{title}}">
          <input name="date" type="text" value="{{date}}">
          <input name="location" type="text" value="{{location}}">
          <textarea name="description">{{description}}</textarea>
          <input name="submit" type="submit" value="Submit">
          <button class="gatherings-back-button">Cancel</button>
        </form>
      </script>

      <!-- Show Profile Search Results -->
      <script id="profile-search-results-component" type="text/x-handlebars-template">
        <ul>
          {{#each profiles}}
            <li>
              <h3><a href="#" class="view-profile-button" data-id={{id}}>{{fname}} {{lname}}</a> {{zip_code}}</h3>
              <button class="add-friend-button" data-id={{id}}>Add Friend</button>
            </li>
          {{/each}}
        </ul>
      </script>

      <!-- List Friends -->
      <script id="list-friends-component" type="text/x-handlebars-template">
        <h2>Friends</h2>
        {{#if friends}}
        <ul>
          {{#each friends}}
            <li data-id={{id}}>
              <h3><a href="#" class="view-profile-button" data-id={{user_id}}>{{fname}} {{lname}}</a> {{zip_code}}</h3>
            </li>
            <button class="remove-friend-button" data-id={{id}}>Unfriend</button>
          {{/each}}
        </ul>
        {{else}}
        You have no friends
        {{/if}}
      </script>

      <!-- List Friend Requests -->
      <script id="list-requests-component" type="text/x-handlebars-template">
          <h2>Friend Requests</h2>
          {{#if friends}}
          <ul>
            {{#each friends}}
              <li data-id={{id}}>
                <h3><a href="#" class="view-profile-button">{{fname}} {{lname}}</a> {{zip_code}}</h3>
                <button class="accept-request-button" data-id={{id}}>Accept</button>
                <button class="decline-request-button" data-id={{id}}>Decline</button>
              </li>
            {{/each}}
          </ul>
          {{else}}
          You have no friend requests
          {{/if}}
      </script>


  </head>

  <body>

    <!-- Register/Login View -->
    <div id="login-register-view">

      <form id="login">
        <input name="email" type="text" placeholder="Email">
        <input name="password" type="password" placeholder="Password">
        <input name="submit" type="submit" value="Login">
        <a href="#" id="show-registration">Don't have an account? Sign up today!</a>
      </form>

      <div id="registration">
        <form id="register">
          <input name="email" type="text" placeholder="email">
          <input name="password" type="password" placeholder="password">
          <input name="password_confirmation" type="password" placeholder="password confirmation">
        </form>
        <form id="profile">
          <input name="fname" type="text" placeholder="First Name">
          <input name="lname" type="text" placeholder="Last Name">
          <input name="zip_code" type="text" placeholder="Zip Code">
        </form>
        <button id="submit-registration">Register</button>
        <a href="#" id="show-login">Already have an account? Sign in!</a>
      </div>

    </div>

    <!-- Dashboard View-->
    <div id="dashboard">
      <ul id="dashboard-nav">
        <lh id="dashboard-welcome"></lh>
        <li><a href="#" id="dashboard-profile">Profile</a></li>
        <li><a href="#" id="dashboard-gatherings">Gatherings</a></li>
        <li><a href="#" id="dashboard-gatherings">Invitations</a></li>
        <li><a href="#" id="dashboard-friends">Friends</a></li>
        <li><a href="#" id="dashboard-friend-requests">Friend Requests</a></li>
        <li id="dashboard-search">
          <input id="dashboard-search-query" type="text">
          <button id="dashboard-search-button">Search</button>
        </li>
      </ul>
      <ul id="dashboard-list"></ul>
      <div id="dashboard-content">
      </div>
    </div>

  </body>

</html>
